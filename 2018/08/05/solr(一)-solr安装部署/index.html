<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="hello,every body!"><title>solr(一)、solr安装部署 | jinming独立博客</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">solr(一)、solr安装部署</h1><a id="logo" href="/.">jinming独立博客</a><p class="description">记录个人技术成长之路</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">solr(一)、solr安装部署</h1><div class="post-meta">Aug 5, 2018<span> | </span><span class="category"><a href="/categories/solr/">solr</a></span></div><div class="post-content"><h3 id="solr简介"><a href="#solr简介" class="headerlink" title="solr简介"></a>solr简介</h3><p>&ensp;&ensp;&ensp;&ensp;Solr 是Apache下的一个顶级开源项目，采用Java开发，它是基于Lucene的全文搜索服务器。Solr提供了比Lucene更为丰富的查询语言，同时实现了可配置、可扩展，并对索引、搜索性能进行了优化。<br>&ensp;&ensp;&ensp;&ensp;Solr可以独立运行，运行在Jetty、Tomcat等这些Servlet容器中，Solr 索引的实现方法很简单，用 POST 方法向 Solr 服务器发送一个描述 Field 及其内容的 XML 文档，Solr根据xml文档添加、删除、更新索引 。Solr 搜索只需要发送 HTTP GET 请求，然后对 Solr 返回Xml、json等格式的查询结果进行解析，组织页面布局。Solr不提供构建UI的功能，Solr提供了一个管理界面，通过管理界面可以查询Solr的配置和运行情况。</p>
<h3 id="solr下载"><a href="#solr下载" class="headerlink" title="solr下载"></a>solr下载</h3><p>下载地址：<a href="http://lucene.apache.org/" target="_blank" rel="noopener">http://lucene.apache.org/</a><br>在下载页面上我们可以看到lucene和solr的下载按钮，且lucene和solr的版本号是一样的，因为solr是基于lucene的全文搜索引擎服务器。</p>
<h3 id="solr目录介绍"><a href="#solr目录介绍" class="headerlink" title="solr目录介绍"></a>solr目录介绍</h3><p><img src="/image/solr-1/solr-catalog.png" alt="solr目录文件结构"><br>bin: solr常用脚本<br>contrib: solr的拓展软件/插件，用于增强solr的功能。<br>dist：Solr的核心JAR包和扩展JAR包, 把Solr嵌入到某个应用程序的时候会用到这些JAR包。</p>
<ul>
<li>dist\solrj-lib: 构建基于Solr的客户端时所需的JAR包</li>
<li>dist\test-framework: 测试Solr时候所需的JAR包</li>
</ul>
<p>docs：solr的API文档<br>example：solr工程的例子目录<br>licenses：solr相关的许可信息<br>server: 在本地把Solr作为服务运行的必要文件</p>
<h3 id="环境要求"><a href="#环境要求" class="headerlink" title="环境要求"></a>环境要求</h3><h4 id="solr4-x的环境要求"><a href="#solr4-x的环境要求" class="headerlink" title="solr4.x的环境要求"></a>solr4.x的环境要求</h4><p>jdk1.7以上<br>tomcat7.0以上</p>
<h4 id="solr5-x的环境要求"><a href="#solr5-x的环境要求" class="headerlink" title="solr5.x的环境要求"></a>solr5.x的环境要求</h4><p>jdk1.8以上（虽然官网没有明确说明要使用jdk1.8，但是其中一部分功能锁需求的JDK版本在JDK1.7以下是没有的）<br>tomcat8.0以上</p>
<h3 id="tomcat集成solr"><a href="#tomcat集成solr" class="headerlink" title="tomcat集成solr"></a>tomcat集成solr</h3><ol>
<li><strong>将solr-6.6.0\server\solr-webapp下的webapp复制到tomcat（我用的tomcat是8.0版本）的webapps目录下，并改名为solr（改名不是必须的，只是为了方便）</strong></li>
<li><strong>将solr-6.6.0\server\lib下的metrics开头的5个jar包、solr-6.6.0\server\lib\ext路径下的所有jar包、solr-6.6.0\dist\solr-dataimporthandler-6.6.0.jar、solr-6.6.0\dist\solr-dataimporthandler-extras-6.6.0.jar复制到步骤1中的solr\WEB-INF\lib目录下</strong></li>
<li><strong>创建存放core的目录（我放在D盘根目录下），在D盘创建solrhome文件夹，将solr-6.6.0\server\solr下的所有文件复制到D:\solrhome目录下</strong></li>
<li><strong>修改tomcat下的solr配置文件，打开tomcat8\webapps\solr\WEB-INF下的web.xml，找到env-entry标签，大概在40行，去掉注解，设置env-entry-value值为D:/solrhome</strong><img src="/image/solr-1/solrhome-setting.png" alt=""><strong>也可以将security-constraint标签注释掉，这是一段权限代码，也就是你在浏览器打开solr，其他人也可以登录</strong><img src="/image/solr-1/solr-security-setting.png" alt=""></li>
<li><strong>在tomcat8\webapps\solr\WEB-INF目录下创建classes文件夹，将solr-6.6.0\server\resources下的log4j.properties复制到此目录,并修改相关配置</strong><img src="image/solr-1/log-setting.png" alt=""></li>
<li><strong>启动tomcat，访问localhost:8080/solr/index.html</strong><br></img src="/image/solr-1/solr-success.png" alt=""></li>
</ol>
<h4 id="相关概念"><a href="#相关概念" class="headerlink" title="相关概念"></a>相关概念</h4><p><strong>solrcore</strong>: 一个solrcore相当于mysql中一个数据库，储存索引</p>
<p><strong>solrhome</strong>: 管理solrcore，可以存放多个solrcore，每个solrcore之间相互隔离</p>
</div><div class="tags"><a href="/tags/solr-搜索引擎/">solr,搜索引擎</a></div><div class="post-nav"><a class="next" href="/2018/08/01/《Thinking-in-Java》第四版笔记-类的加载和对象初始化/">《Thinking in Java》第四版笔记---类的加载和对象初始化</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="http://yoursite.com"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/solr/">solr</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tomcat/">tomcat</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/单元测试/">单元测试</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/日志框架/">日志框架</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/solr-搜索引擎/" style="font-size: 15px;">solr,搜索引擎</a> <a href="/tags/MySQL安装/" style="font-size: 15px;">MySQL安装</a> <a href="/tags/eclipse-maven-junit/" style="font-size: 15px;">eclipse,maven,junit</a> <a href="/tags/深入剖析tomcat/" style="font-size: 15px;">深入剖析tomcat</a> <a href="/tags/日志框架/" style="font-size: 15px;">日志框架</a> <a href="/tags/《Thinking-in-Java》/" style="font-size: 15px;">《Thinking in Java》</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/08/05/solr(一)-solr安装部署/">solr(一)、solr安装部署</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/01/《Thinking-in-Java》第四版笔记-类的加载和对象初始化/">《Thinking in Java》第四版笔记---类的加载和对象初始化</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/01/eclipse-maven-junit单元测试问题总结/">eclipse+maven+junit单元测试问题总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/01/日志框架梳理/">日志框架梳理</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/01/《深入剖析tomcat》思维导图/">《深入剖析tomcat》思维导图</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/01/win10安装MySQL8/">win10安装MySQL8</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://blog.csdn.net/m0_37040022" title="CSDN博客" target="_blank">CSDN博客</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">jinming独立博客.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>