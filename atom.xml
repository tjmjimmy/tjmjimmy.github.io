<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>jinming独立博客</title>
  
  <subtitle>记录个人技术成长之路</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-08-12T04:45:13.924Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>tianjm</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>solr(四)、配置中文分词器</title>
    <link href="http://yoursite.com/2018/08/12/solr(%E5%9B%9B)-%E9%85%8D%E7%BD%AE%E4%B8%AD%E6%96%87%E5%88%86%E8%AF%8D%E5%99%A8/"/>
    <id>http://yoursite.com/2018/08/12/solr(四)-配置中文分词器/</id>
    <published>2018-08-12T03:38:19.000Z</published>
    <updated>2018-08-12T04:45:13.924Z</updated>
    
    <content type="html"><![CDATA[<h4 id="下载jar包"><a href="#下载jar包" class="headerlink" title="下载jar包"></a>下载jar包</h4><p>网上下载<a href="https://download.csdn.net/download/m0_37040022/10598641" target="_blank" rel="noopener">IKAnalyzer2012FF_u1.jar</a></p><h4 id="文件说明"><a href="#文件说明" class="headerlink" title="文件说明"></a>文件说明</h4><p><img src="/image/solr-4/solr-AnalyzerCatalog.png" alt="Analyzer文件说明"><br><strong>*.dic</strong>：.dic后缀文件是自定义词典和停用词词典，这些文件内容是可以自定义的<br><strong>IKAnalyzer.cfg.xml</strong>：很明显这是中文分词器的配置文件<br><strong>IKAnalyzer2012FF_u1.jar</strong>：所依赖的jar包</p><h4 id="配置中文分词器"><a href="#配置中文分词器" class="headerlink" title="配置中文分词器"></a>配置中文分词器</h4><ol><li>将IKAnalyzer2012FF_u1.jar添加到tomcat下solr工程solr\WEB-INF\lib目录下。</li><li>复制IKAnalyzer的配置文件和自定义词典和停用词词典到solr工程的solr\WEB-INF\classes目录下<font color="red">（注意词典的字符集是utf-8）</font></li><li><p>在schema.xml（上一节已经讲过，在SolrCore的conf目录下）中添加一个自定义的fieldType，使用中文分析器。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"text_ik"</span> <span class="attr">lass</span>=<span class="string">"solr.TextField"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">analyzer</span> <span class="attr">class</span>=<span class="string">"org.wltea.analyzer.lucene.IKAnalyzer"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldType</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>定义field，指定field的type属性为text_ik，如下所示</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"title_ik"</span> <span class="attr">type</span>=<span class="string">"text_ik"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"content_ik"</span> <span class="attr">type</span>=<span class="string">"text_ik"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"false"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>重启tomcat</p></li></ol><h4 id="测试一下"><a href="#测试一下" class="headerlink" title="测试一下"></a>测试一下</h4><p>Analyse Fieldname / FieldType选择上一步骤配置的title_ik<br><img src="/image/solr-4/solr-Analyzertest-1.png" alt=""><br>可以看出分词效果是我们的中文理解思维，而不是简单得分成一个一个字，如果想看对比效果，将schema.xml文件中的中文分词器相关配置注释掉，重启tomcat，再测试一遍就知道了。</p><h4 id="设置业务系统Field"><a href="#设置业务系统Field" class="headerlink" title="设置业务系统Field"></a>设置业务系统Field</h4><p>如果不使用Solr提供的Field可以针对具体的业务需要自定义一套Field，如下是商品信息Field：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"product_name"</span> <span class="attr">type</span>=<span class="string">"text_ik"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"product_price"</span>  <span class="attr">type</span>=<span class="string">"float"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"product_description"</span> <span class="attr">type</span>=<span class="string">"text_ik"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"product_picture"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">indexed</span>=<span class="string">"false"</span> <span class="attr">stored</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"product_catalog_name"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"product_keywords"</span> <span class="attr">type</span>=<span class="string">"text_ik"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"false"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">copyField</span> <span class="attr">source</span>=<span class="string">"product_name"</span> <span class="attr">dest</span>=<span class="string">"product_keywords"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">copyField</span> <span class="attr">source</span>=<span class="string">"product_description"</span> <span class="attr">dest</span>=<span class="string">"product_keywords"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;下载jar包&quot;&gt;&lt;a href=&quot;#下载jar包&quot; class=&quot;headerlink&quot; title=&quot;下载jar包&quot;&gt;&lt;/a&gt;下载jar包&lt;/h4&gt;&lt;p&gt;网上下载&lt;a href=&quot;https://download.csdn.net/download/m0_370
      
    
    </summary>
    
      <category term="solr" scheme="http://yoursite.com/categories/solr/"/>
    
    
      <category term="solr,搜索引擎" scheme="http://yoursite.com/tags/solr-%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/"/>
    
  </entry>
  
  <entry>
    <title>solr(三)、Schema.xml讲解</title>
    <link href="http://yoursite.com/2018/08/11/solr(%E4%B8%89)-Schema-xml%E8%AE%B2%E8%A7%A3/"/>
    <id>http://yoursite.com/2018/08/11/solr(三)-Schema-xml讲解/</id>
    <published>2018-08-11T07:02:18.000Z</published>
    <updated>2018-08-12T03:18:18.917Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Schema-xml"><a href="#Schema-xml" class="headerlink" title="Schema.xml"></a>Schema.xml</h3><p>&ensp;&ensp;&ensp;&ensp;schema.xml，在SolrCore的conf目录下，它是Solr数据表配置文件，它定义了加入索引的数据的数据类型的。主要包括FieldTypes、Fields和其他的一些缺省设置。<img src="/image/solr-3/schema.xml-path.png" alt=""></p><h4 id="FieldType域类型定义"><a href="#FieldType域类型定义" class="headerlink" title="FieldType域类型定义"></a>FieldType域类型定义</h4><p>&ensp;&ensp;&ensp;&ensp;下边“text_general”是Solr默认提供的FieldType，通过它说明FieldType定义的内容：<br><img src="/image/solr-3/solr-FieldType.png" alt=""><br>FieldType子结点包括：<strong>name</strong>，<strong>class</strong>，<strong>positionIncrementGap</strong>等一些参数：<br><strong>name</strong>：是这个FieldType的名称<br><strong>class</strong>：是Solr提供的包solr.TextField，solr.TextField 允许用户通过分析器来定制索引和查询，分析器包括一个分词器（tokenizer）和多个过滤器（filter）<br><strong>positionIncrementGap</strong>：可选属性，定义在同一个文档中此类型数据的空白间隔，避免短语匹配错误，此值相当于Lucene的短语查询设置slop值，根据经验设置为100。<br>&ensp;&ensp;&ensp;&ensp;在FieldType定义的时候最重要的就是定义这个类型的数据在建立索引和进行查询的时候要使用的分析器analyzer,包括分词和过滤。</p><ul><li><strong>索引分析器</strong>：使用solr.StandardTokenizerFactory标准分词器，solr.StopFilterFactory停用词过滤器，solr.LowerCaseFilterFactory小写过滤器。</li><li><strong>搜索分析器</strong>：使用solr.StandardTokenizerFactory标准分词器，solr.StopFilterFactory停用词过滤器，这里还用到了solr.SynonymFilterFactory同义词过滤器。</li></ul><h4 id="Field定义"><a href="#Field定义" class="headerlink" title="Field定义"></a>Field定义</h4><p>&ensp;&ensp;&ensp;&ensp;solr索引字段在schema.xml配置文件中，包含在<strong>fields</strong>标签之间的。在fields结点内定义具体的<strong>Field</strong>，filed定义包括<strong>name</strong>（域的名称）,<strong>type</strong>（为之前定义过的各种FieldType）,<strong>indexed</strong>（是否被索引）,<strong>stored</strong>（是否被储存），<strong>multiValued</strong>（是否存储多个值）等属性。如下：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">type</span>=<span class="string">"text_general"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"features"</span> <span class="attr">type</span>=<span class="string">"text_general"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><p><strong>multiValued</strong>：该Field如果要存储多个值时设置为true，solr允许一个Field存储多个值，比如存储一个用户的好友id（多个），商品的图片（多个，大图和小图），通过使用solr查询要看出返回给客户端是数组：<br><img src="/image/solr-3/solr-multiValued.png" alt=""></p><font color="red">注：其中的title域就是multiValued（多值）</font><h4 id="dynamicField（动态字段）"><a href="#dynamicField（动态字段）" class="headerlink" title="dynamicField（动态字段）"></a>dynamicField（动态字段）</h4><p>&ensp;&ensp;&ensp;&ensp;动态字段就是不用指定具体的名称，只要定义字段名称的规则，例如定义一个 dynamicField，<strong>name</strong> 为*_i，定义它的<strong>type</strong>为text，那么在使用这个字段的时候，任何以&ensp;”_i”&ensp;结尾的字段都被认为是符合这个定义的，例如：name_i，gender_i，school_i等。<br>&ensp;&ensp;&ensp;&ensp;自定义Field名为：product_title_t，“product_title_t”和scheam.xml中的dynamicField规则匹配成功，如下：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_t"</span> <span class="attr">type</span>=<span class="string">"text_general"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><p>创建索引：<br><img src="/image/solr-3/solr-dynamicField-update.png" alt=""><br>搜索索引：<br><img src="/image/solr-3/solr-dynamicField-query.png" alt=""></p><h4 id="uniqueKey"><a href="#uniqueKey" class="headerlink" title="uniqueKey"></a>uniqueKey</h4><p>Solr中默认定义唯一主键key为id域，如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Field to use to determine and enforce document uniqueness. </span><br><span class="line">     Unless this field is marked with required=&quot;false&quot;, it will be a required field</span><br><span class="line">  --&gt;</span><br><span class="line">&lt;uniqueKey&gt;id&lt;/uniqueKey&gt;</span><br></pre></td></tr></table></figure></p><p>Solr在删除、更新索引时使用id域进行判断，也可以自定义唯一主键。<font color="red">注意在创建索引时必须指定唯一约束。</font></p><h4 id="copyField复制域"><a href="#copyField复制域" class="headerlink" title="copyField复制域"></a>copyField复制域</h4><p>&ensp;&ensp;&ensp;&ensp;copyField复制域，可以将多个Field复制到一个Field中，以便进行统一的检索。比如，输入关键字搜索title标题content内容，定义title、content、text的域：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"title"</span> <span class="attr">type</span>=<span class="string">"text_general"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"content"</span> <span class="attr">type</span>=<span class="string">"text_general"</span> <span class="attr">indexed</span>=<span class="string">"false"</span> <span class="attr">stored</span>=<span class="string">"true"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"text"</span> <span class="attr">type</span>=<span class="string">"text_general"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"false"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><p>&ensp;&ensp;&ensp;&ensp;根据关键字只搜索text域的内容就相当于搜索title和content，将title和content复制到text中，如下：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">copyField</span> <span class="attr">source</span>=<span class="string">"title"</span> <span class="attr">dest</span>=<span class="string">"text"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">copyField</span> <span class="attr">source</span>=<span class="string">"content"</span> <span class="attr">dest</span>=<span class="string">"text"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><p><strong>source</strong>：源域<br><strong>dest</strong>：目标域</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Schema-xml&quot;&gt;&lt;a href=&quot;#Schema-xml&quot; class=&quot;headerlink&quot; title=&quot;Schema.xml&quot;&gt;&lt;/a&gt;Schema.xml&lt;/h3&gt;&lt;p&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;schema.xml，在So
      
    
    </summary>
    
      <category term="solr" scheme="http://yoursite.com/categories/solr/"/>
    
    
      <category term="solr,搜索引擎" scheme="http://yoursite.com/tags/solr-%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/"/>
    
  </entry>
  
  <entry>
    <title>solr(二)、solr管理功能</title>
    <link href="http://yoursite.com/2018/08/11/solr(%E4%BA%8C)-solr%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD/"/>
    <id>http://yoursite.com/2018/08/11/solr(二)-solr管理功能/</id>
    <published>2018-08-11T05:53:34.000Z</published>
    <updated>2018-08-11T06:50:41.736Z</updated>
    
    <content type="html"><![CDATA[<h3 id="管理界面"><a href="#管理界面" class="headerlink" title="管理界面"></a>管理界面</h3><p><img src="/image/solr-2/solr-managerUI.png" alt=""></p><h4 id="Dashboard"><a href="#Dashboard" class="headerlink" title="Dashboard"></a>Dashboard</h4><p>仪表盘，显示了该Solr实例开始启动运行的时间、版本、系统资源、jvm等信息</p><h4 id="Logging"><a href="#Logging" class="headerlink" title="Logging"></a>Logging</h4><p>solr运行日志信息</p><h4 id="Core-Admin"><a href="#Core-Admin" class="headerlink" title="Core Admin"></a>Core Admin</h4><p>Solr Core的管理界面。Solr Core 是Solr的一个独立运行实例单位，它可以对外提供索引和搜索服务，一个Solr工程可以运行多个SolrCore（Solr实例），一个Core对应一个索引目录。<img src="/image/solr-2/solr-addsolrcore.png" alt=""><br>点击“Add Core”添加solrCore报错，我们一般不在这添加solrCore，具体添加步骤：</p><ol><li>在solrhome目录下复制collection1改名为collection2</li><li>修改collection2文件下的core.properties文件，name=collection2</li><li>重启tomcat</li></ol><h4 id="java-properties"><a href="#java-properties" class="headerlink" title="java properties"></a>java properties</h4><p>Solr在JVM 运行环境中的属性信息，包括类路径、文件编码、jvm内存设置等信息。</p><h4 id="Tread-Dump"><a href="#Tread-Dump" class="headerlink" title="Tread Dump"></a>Tread Dump</h4><p>显示Solr Server中当前活跃线程信息，同时也可以跟踪线程运行栈信息。</p><h4 id="Core-selector"><a href="#Core-selector" class="headerlink" title="Core selector"></a>Core selector</h4><p>选择一个solrCore后出现如下页面<img src="/image/solr-2/solr-coreselect.png" alt=""></p><ol><li><strong>Overview</strong>：该solrCore的基本信息</li><li><strong>Analysis</strong>：通过此界面可以测试索引分析器和搜索分析器的执行情况<img src="/image/solr-2/solr-Analysis.png" alt=""></li><li><strong>Dataimport</strong>：可以定义数据导入处理器，从关系数据库将数据导入 到Solr索引库中。</li><li><strong>Document</strong>：通过此菜单可以创建索引、更新索引、删除索引等操作。<br>/update表示更新索引，solr默认根据id（唯一约束）域来更新Document的内容，如果根据id值搜索不到id域则会执行添加操作，如果找到则更新。</li><li><strong>Ping</strong>：检查服务器是否能连通</li><li><strong>Query</strong>：通过/select执行搜索索引，必须指定“q”查询条件方可搜索。<br><img src="/image/solr-2/solr-query.png" alt=""></li><li><strong>Schema Browser</strong>：查看Schema域的信息<br><img src="/image/solr-2/solr-schemaBrowser.png" alt=""></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;管理界面&quot;&gt;&lt;a href=&quot;#管理界面&quot; class=&quot;headerlink&quot; title=&quot;管理界面&quot;&gt;&lt;/a&gt;管理界面&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/image/solr-2/solr-managerUI.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id
      
    
    </summary>
    
      <category term="solr" scheme="http://yoursite.com/categories/solr/"/>
    
    
      <category term="solr,搜索引擎" scheme="http://yoursite.com/tags/solr-%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/"/>
    
  </entry>
  
  <entry>
    <title>solr(一)、solr安装部署</title>
    <link href="http://yoursite.com/2018/08/05/solr(%E4%B8%80)-solr%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2/"/>
    <id>http://yoursite.com/2018/08/05/solr(一)-solr安装部署/</id>
    <published>2018-08-05T06:46:04.000Z</published>
    <updated>2018-08-11T06:57:48.395Z</updated>
    
    <content type="html"><![CDATA[<h3 id="solr简介"><a href="#solr简介" class="headerlink" title="solr简介"></a>solr简介</h3><p>&ensp;&ensp;&ensp;&ensp;Solr 是Apache下的一个顶级开源项目，采用Java开发，它是基于Lucene的全文搜索服务器。Solr提供了比Lucene更为丰富的查询语言，同时实现了可配置、可扩展，并对索引、搜索性能进行了优化。<br>&ensp;&ensp;&ensp;&ensp;Solr可以独立运行，运行在Jetty、Tomcat等这些Servlet容器中，Solr 索引的实现方法很简单，用 POST 方法向 Solr 服务器发送一个描述 Field 及其内容的 XML 文档，Solr根据xml文档添加、删除、更新索引 。Solr 搜索只需要发送 HTTP GET 请求，然后对 Solr 返回Xml、json等格式的查询结果进行解析，组织页面布局。Solr不提供构建UI的功能，Solr提供了一个管理界面，通过管理界面可以查询Solr的配置和运行情况。</p><h3 id="solr下载"><a href="#solr下载" class="headerlink" title="solr下载"></a>solr下载</h3><p>下载地址：<a href="http://lucene.apache.org/" target="_blank" rel="noopener">http://lucene.apache.org/</a><br>在下载页面上我们可以看到lucene和solr的下载按钮，且lucene和solr的版本号是一样的，因为solr是基于lucene的全文搜索引擎服务器。</p><h3 id="solr目录介绍"><a href="#solr目录介绍" class="headerlink" title="solr目录介绍"></a>solr目录介绍</h3><p><img src="/image/solr-1/solr-catalog.png" alt="solr目录文件结构"><br>bin: solr常用脚本<br>contrib: solr的拓展软件/插件，用于增强solr的功能。<br>dist：Solr的核心JAR包和扩展JAR包, 把Solr嵌入到某个应用程序的时候会用到这些JAR包。</p><ul><li>dist\solrj-lib: 构建基于Solr的客户端时所需的JAR包</li><li>dist\test-framework: 测试Solr时候所需的JAR包</li></ul><p>docs：solr的API文档<br>example：solr工程的例子目录<br>licenses：solr相关的许可信息<br>server: 在本地把Solr作为服务运行的必要文件</p><h3 id="环境要求"><a href="#环境要求" class="headerlink" title="环境要求"></a>环境要求</h3><h4 id="solr4-x的环境要求"><a href="#solr4-x的环境要求" class="headerlink" title="solr4.x的环境要求"></a>solr4.x的环境要求</h4><p>jdk1.7以上<br>tomcat7.0以上</p><h4 id="solr5-x的环境要求"><a href="#solr5-x的环境要求" class="headerlink" title="solr5.x的环境要求"></a>solr5.x的环境要求</h4><p>jdk1.8以上（虽然官网没有明确说明要使用jdk1.8，但是其中一部分功能锁需求的JDK版本在JDK1.7以下是没有的）<br>tomcat8.0以上</p><h3 id="tomcat集成solr"><a href="#tomcat集成solr" class="headerlink" title="tomcat集成solr"></a>tomcat集成solr</h3><ol><li><strong>将solr-6.6.0\server\solr-webapp下的webapp复制到tomcat（我用的tomcat是8.0版本）的webapps目录下，并改名为solr（改名不是必须的，只是为了方便）</strong></li><li><strong>将solr-6.6.0\server\lib下的metrics开头的5个jar包、solr-6.6.0\server\lib\ext路径下的所有jar包、solr-6.6.0\dist\solr-dataimporthandler-6.6.0.jar、solr-6.6.0\dist\solr-dataimporthandler-extras-6.6.0.jar复制到步骤1中的solr\WEB-INF\lib目录下</strong></li><li><strong>创建存放core的目录（我放在D盘根目录下），在D盘创建solrhome文件夹，将solr-6.6.0\server\solr下的所有文件复制到D:\solrhome目录下</strong></li><li><strong>修改tomcat下的solr配置文件，打开tomcat8\webapps\solr\WEB-INF下的web.xml，找到env-entry标签，大概在40行，去掉注解，设置env-entry-value值为D:/solrhome</strong><img src="/image/solr-1/solrhome-setting.png" alt=""><strong>也可以将security-constraint标签注释掉，这是一段权限代码，也就是你在浏览器打开solr，其他人也可以登录</strong><img src="/image/solr-1/solr-security-setting.png" alt=""></li><li><strong>在tomcat8\webapps\solr\WEB-INF目录下创建classes文件夹，将solr-6.6.0\server\resources下的log4j.properties复制到此目录,并修改相关配置</strong><img src="/image/solr-1/log-setting.png" alt=""></li><li><strong>启动tomcat，访问localhost:8080/solr/index.html</strong><img src="/image/solr-1/solr-success.png" alt=""></li></ol><h4 id="相关概念"><a href="#相关概念" class="headerlink" title="相关概念"></a>相关概念</h4><p><strong>solrcore</strong>: 一个solrcore相当于mysql中一个数据库，储存索引</p><p><strong>solrhome</strong>: 管理solrcore，可以存放多个solrcore，每个solrcore之间相互隔离</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;solr简介&quot;&gt;&lt;a href=&quot;#solr简介&quot; class=&quot;headerlink&quot; title=&quot;solr简介&quot;&gt;&lt;/a&gt;solr简介&lt;/h3&gt;&lt;p&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;Solr 是Apache下的一个顶级开源项目，采用Java开
      
    
    </summary>
    
      <category term="solr" scheme="http://yoursite.com/categories/solr/"/>
    
    
      <category term="solr,搜索引擎" scheme="http://yoursite.com/tags/solr-%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/"/>
    
  </entry>
  
  <entry>
    <title>《Thinking in Java》第四版笔记---类的加载和对象初始化</title>
    <link href="http://yoursite.com/2018/08/01/%E3%80%8AThinking-in-Java%E3%80%8B%E7%AC%AC%E5%9B%9B%E7%89%88%E7%AC%94%E8%AE%B0-%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD%E5%92%8C%E5%AF%B9%E8%B1%A1%E5%88%9D%E5%A7%8B%E5%8C%96/"/>
    <id>http://yoursite.com/2018/08/01/《Thinking-in-Java》第四版笔记-类的加载和对象初始化/</id>
    <published>2018-07-31T16:20:51.000Z</published>
    <updated>2018-08-01T14:16:35.928Z</updated>
    
    <content type="html"><![CDATA[<p>直接放CSDN链接<br><a href="https://blog.csdn.net/m0_37040022/article/details/79036121" target="_blank" rel="noopener">《Thinking in Java》第四版笔记—类的加载和对象初始化</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;直接放CSDN链接&lt;br&gt;&lt;a href=&quot;https://blog.csdn.net/m0_37040022/article/details/79036121&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;《Thinking in Java》第四版笔记—
      
    
    </summary>
    
      <category term="java" scheme="http://yoursite.com/categories/java/"/>
    
    
      <category term="《Thinking in Java》" scheme="http://yoursite.com/tags/%E3%80%8AThinking-in-Java%E3%80%8B/"/>
    
  </entry>
  
  <entry>
    <title>eclipse+maven+junit单元测试问题总结</title>
    <link href="http://yoursite.com/2018/08/01/eclipse-maven-junit%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/"/>
    <id>http://yoursite.com/2018/08/01/eclipse-maven-junit单元测试问题总结/</id>
    <published>2018-07-31T16:18:40.000Z</published>
    <updated>2018-08-01T14:18:49.933Z</updated>
    
    <content type="html"><![CDATA[<p>直接放CSDN链接<br><a href="https://blog.csdn.net/m0_37040022/article/details/80432972" target="_blank" rel="noopener">eclipse+maven+junit单元测试问题总结</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;直接放CSDN链接&lt;br&gt;&lt;a href=&quot;https://blog.csdn.net/m0_37040022/article/details/80432972&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;eclipse+maven+junit单元测试问
      
    
    </summary>
    
      <category term="单元测试" scheme="http://yoursite.com/categories/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/"/>
    
    
      <category term="eclipse,maven,junit" scheme="http://yoursite.com/tags/eclipse-maven-junit/"/>
    
  </entry>
  
  <entry>
    <title>日志框架梳理</title>
    <link href="http://yoursite.com/2018/08/01/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6%E6%A2%B3%E7%90%86/"/>
    <id>http://yoursite.com/2018/08/01/日志框架梳理/</id>
    <published>2018-07-31T16:17:19.000Z</published>
    <updated>2018-08-01T14:15:12.795Z</updated>
    
    <content type="html"><![CDATA[<p>直接放CSDN链接吧<br><a href="https://blog.csdn.net/m0_37040022/article/details/80454332" target="_blank" rel="noopener">日志框架梳理</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;直接放CSDN链接吧&lt;br&gt;&lt;a href=&quot;https://blog.csdn.net/m0_37040022/article/details/80454332&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;日志框架梳理&lt;/a&gt;&lt;/p&gt;

      
    
    </summary>
    
      <category term="日志框架" scheme="http://yoursite.com/categories/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6/"/>
    
    
      <category term="日志框架" scheme="http://yoursite.com/tags/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>《深入剖析tomcat》思维导图</title>
    <link href="http://yoursite.com/2018/08/01/%E3%80%8A%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90tomcat%E3%80%8B%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/"/>
    <id>http://yoursite.com/2018/08/01/《深入剖析tomcat》思维导图/</id>
    <published>2018-07-31T16:14:03.000Z</published>
    <updated>2018-08-01T14:18:17.953Z</updated>
    
    <content type="html"><![CDATA[<p>以前在CSDN写了，这里直接放链接吧<br><a href="https://blog.csdn.net/m0_37040022/article/details/81222967" target="_blank" rel="noopener">《深入剖析tomcat》思维导图</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;以前在CSDN写了，这里直接放链接吧&lt;br&gt;&lt;a href=&quot;https://blog.csdn.net/m0_37040022/article/details/81222967&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;《深入剖析tomcat》思维导
      
    
    </summary>
    
      <category term="tomcat" scheme="http://yoursite.com/categories/tomcat/"/>
    
    
      <category term="深入剖析tomcat" scheme="http://yoursite.com/tags/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90tomcat/"/>
    
  </entry>
  
  <entry>
    <title>win10安装MySQL8</title>
    <link href="http://yoursite.com/2018/08/01/win10%E5%AE%89%E8%A3%85MySQL8/"/>
    <id>http://yoursite.com/2018/08/01/win10安装MySQL8/</id>
    <published>2018-07-31T16:10:08.000Z</published>
    <updated>2018-08-01T14:19:16.056Z</updated>
    
    <content type="html"><![CDATA[<p>以前在CSDN写了，这里直接放链接吧<br><a href="https://blog.csdn.net/m0_37040022/article/details/81253235" target="_blank" rel="noopener">win10安装MySQL8</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;以前在CSDN写了，这里直接放链接吧&lt;br&gt;&lt;a href=&quot;https://blog.csdn.net/m0_37040022/article/details/81253235&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;win10安装MySQL8&lt;/
      
    
    </summary>
    
      <category term="MySQL" scheme="http://yoursite.com/categories/MySQL/"/>
    
    
      <category term="MySQL安装" scheme="http://yoursite.com/tags/MySQL%E5%AE%89%E8%A3%85/"/>
    
  </entry>
  
</feed>
